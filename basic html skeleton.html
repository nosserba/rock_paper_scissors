<!DOCTYPE html> 
<html> 
    <head>
        <title>Rock Paper Scissors</title> 
        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
<div class = "choices">

    <div data-choice="rock" class="choice"> 
        <kbd>A</kbd> 
        <span class = "img">rock</span>
    </div>

    <div data-choice="paper" class="choice"> 
        <kbd>S</kbd>
        <span class = "img">paper</span>
        </div>

        <div data-choice="scissors" class="choice"> 
            <kbd>D</kbd> 
            <span class = "img">scissors</span>

</div>

<img data-choice="rock" img src="rock.jpg"></img> 
<img data-choice="paper" img src="paper.jpg"></img> 
<img data-choice="scissors" img src="scissors.jpg"></img> 
        
    <script> 
        let gameChoices = ['rock', 'paper', 'scissors'];  // the array the computer randomly selects from
       let computerSelection = gameChoices[Math.floor(Math.random() * gameChoices.length)]; // makes random computer choice from gameChoices array. 
      
            computerSelection = computerPlay();
       function computerPlay() {
                return computerSelection; 
            }
            console.log(computerSelection);


            let playerSelection = prompt("rock, paper, scissors?: ");
       console.log(playerSelection.toLowerCase()); // gives prompt to user to write in option then converts to lowercase
       

       function playRound(playerSelection, computerPlay) {

        function computerPlay () {
           return computerSelection; }


                if (playerSelection == 'rock' && computerSelection == 'scissors') {
                     alert ("You win! Rock beats scissors"); } // when user picks rock and random scissors 

                if (playerSelection == 'paper' && computerSelection == 'scissors') {
                     alert ("You lose! Scissors beat paper"); // when user picks paper and random scissors
                }
                
                if (playerSelection == 'rock' && computerSelection == 'paper') {
                     alert ("You lose! Paper beats rock"); // when user picks rock and random paper
                }

                if (playerSelection == 'rock' && computerSelection == 'rock') {
                     alert ("You tied! Both picked rock"); // when user picks rock and random rock
                }

                if (playerSelection == 'paper' && computerSelection === 'rock') {
                     alert ("You win! Paper beats rock"); // when user picks paper and random rock 
                }

                if (playerSelection == 'paper' && computerSelection == 'paper') {
                     alert ("You tie! Both picked paper"); // when user picks paper and random paper
                }
                if (playerSelection == 'scissors' && computerSelection == 'paper') {
                     alert ("You win! Scissors beats paper"); // when user picks scissors and random paper
                }
                if (playerSelection == 'scissors' && computerSelection == 'rock') {
                     alert ("You lose! Rock beats scissors"); // user picks scissors and random rock 
                }
                if (playerSelection == 'scissors' && computerSelection == 'scissors') {
                     alert ("You tie! Both picked scissors"); // user picks scissors and random scissors
                }

            }
            console.log(playRound(playerSelection, computerSelection));
        window.addEventListener('keydown', function(e) {
        const img = document.querySelector('img[data-choice="${e.keyCode}"]');
        console.log(img); 
        const choice = document.querySelector('.choice[data-key="${e.keyCode}"]');
        if(!img) return; // stop the function from running all together
        img.currentTime = 0; // rewind to the start if spamming 
        img.play(); 
        key.classList.add('playing'); 
    });

function removeTransition(e) {
    if(e.propertyname !== 'transform') return; // skip if its not a transform
    this.classList.remove('playing'); // resets the 'playing' script from before 
}

const choices = document.querySelectorAll('.choice'); 
choices.forEach(choice => choice.addEventListener('transitioned', removeTransition));
window.addEventListener('keydown', playImg); 


        </script> 
    </body>
</html>


